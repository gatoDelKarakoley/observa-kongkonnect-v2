# Nginx Baseline Configuration - NO IP Preservation
# This configuration demonstrates the problem: original IP is lost

events {
    worker_connections 1024;
}

http {
    upstream kong {
        server kong-dp-kong-proxy.kong.svc.cluster.local:80;
    }

    server {
        listen 80;
        server_name _;

        location / {
            # Basic proxy - NO headers set
            # Kong will see Nginx pod IP as the client
            proxy_pass http://kong;
            proxy_http_version 1.1;
            proxy_set_header Host $host;
            proxy_set_header Connection "";
        }
    }
}
